<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name='apple-touch-fullscreen' content='yes'>
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="format-detection" content="telephone=no">
<title></title>
<link type="text/css" rel="stylesheet" href="../css/layout.css">
</head>

<body style="height: 100%; margin: 0;background-color:#f5f5f5;">
<div id="container" style="width:100%;height:300px;margin:0 auto">
</div>
<script type="text/javascript" src="../js/jquery-1.11.3.min.js"></script>
<script type="text/javascript" src="../js/base.js"></script>
<script type="text/javascript" src="../js/echarts.common.min.js"></script>

<script type="text/javascript">


var ajaxData=[
    { value: 300, name: '我的余额' , color:'#f8e399' },
    { value: 310, name: '活期钱包' , color:'#f78db3'},
    { value: 234, name: '智能钱包' , color:'#a0dca0'},
    { value: 135, name: '短期理财' , color:'#7996d2'},
    { value: 135, name: '中长期理财' , color:'#90d4e7'},
]
var okData=[]
var colors=[]
var legendData=[]
for(var i=0;i<ajaxData.length;i++){
    if(ajaxData[i].value>0){
        var aa={value:ajaxData[i].value,name:ajaxData[i].name}
        okData.push(aa)
        colors.push(ajaxData[i].color)
        legendData.push(ajaxData[i].name)
    }
}

var dom = document.getElementById("container");
var myChart = echarts.init(dom);
option = null;
option = {
    backgroundColor:"#ffffff",
    /*title: {
        text: '某站点用户访问来源',
        subtext: '纯属虚构',
        x: 'center'
    },*/
    tooltip: {
        trigger: 'item',

        formatter: "{a} <br/>{b} : {c} ({d}%)"
    },
    /*legend: {
        orient: 'vertical',
        left:'left',
        itemGap:10,
        itemWidth:10,
        itemHeight:10,
        data: legendData
    },*/
    series: [{
        type: 'pie',
        name: '访问来源',
        legendHoverLink:false,
        hoverAnimation:false,
        radius: ['20%', '60%'],
        center: ['50%', '50%'],
        avoidLabelOverlap: false,
        label:{
            normal:{
                show:true,
                position:'outside',
                formatter:'{b}\n{c}',
                fontSize:'12',
                align:'center',
                verticalAlign:'bottom',
                //color:''
            }
        },
        labelLine:{
            normal:{
                show:true,
                length:10,
                length2:40
            }
        },
        data:okData,
        itemStyle: {
            emphasis: {
                shadowBlur: 10,
                shadowOffsetX: 0,
                shadowColor: 'rgba(0, 0, 0, 0.5)'
            }
        }
    }],
    color:colors,
};
if (option && typeof option === "object") {
    myChart.setOption(option, true);
}
</script>
</body>

</html>